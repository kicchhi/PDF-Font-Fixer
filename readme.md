# PDF Font Fixer

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∑–∞–º–µ–Ω—ã —à—Ä–∏—Ñ—Ç–æ–≤ –≤ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å—Ç–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∏ –ø–æ–¥–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üî§ –ó–∞–º–µ–Ω–∞ —à—Ä–∏—Ñ—Ç–æ–≤ –Ω–∞ `figo` (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤)
- üìè –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ (14pt) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–º–µ–Ω—å—à–µ–Ω–∏–µ–º –ø—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è—Ö
- üìê –£–º–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ —Å —É—á–µ—Ç–æ–º —à–∏—Ä–∏–Ω—ã –±–ª–æ–∫–∞
- üñºÔ∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏—Ö—Å—è –±–ª–æ–∫–æ–≤ —Ç–µ–∫—Å—Ç–∞
- üîÑ –ú–æ—Ä—Ñ–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω—ã –±–ª–æ–∫–æ–≤
- üìù –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ–∫—Å—Ç–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/kicchhi/pdf-font-fixer.git
cd pdf-font-fixer

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install pymupdf pymupdf-fonts
```

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

`python pdf_font_fixer.py`

–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –±—ã–ª —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ —Ñ–∞–π–ª–∞:

`pdf2zh manual.pdf -li en -lo ru`

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```
file_path = "manual-zh.pdf"      # –í—Ö–æ–¥–Ω–æ–π PDF —Ñ–∞–π–ª
font_name = "figo"               # –ò–º—è —à—Ä–∏—Ñ—Ç–∞ (–¥–æ—Å—Ç—É–ø–Ω—ã: figo, cjk, notos)
BASE_FONT_SIZE = 14              # –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
MIN_FONT_SIZE = 8                # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
LINE_SPACING = 1.2               # –ú–µ–∂—Å—Ç—Ä–æ—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
```

1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ PDF –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ span'–æ–≤ –≤ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏;
2. –ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—â–∏—Ö—Å—è –±–ª–æ–∫–æ–≤ —Ç–µ–∫—Å—Ç–∞;
3. –ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ ‚Äî —É–º–µ–Ω—å—à–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è—Ö;
4. –£–º–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å ‚Äî —Ä–∞–∑–±–∏–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Å–ª–æ–≤;
5. –ú–æ—Ä—Ñ–∏–Ω–≥ ‚Äî –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –¥–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω—ã –±–ª–æ–∫–∞;
6. –í—Å—Ç–∞–≤–∫–∞ ‚Äî —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å –Ω–æ–≤—ã–º —à—Ä–∏—Ñ—Ç–æ–º –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è;
- –¢–µ–∫—Å—Ç –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —à—Ä–∏—Ñ—Ç figo —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º;
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–æ–±–µ–ª—ã –∏ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫;
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–µ—Å—è –±–ª–æ–∫–∏.

